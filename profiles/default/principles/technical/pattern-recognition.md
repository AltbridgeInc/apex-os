# Chart Pattern Recognition

## Principle

Chart patterns are formations created by price action that tend to precede predictable moves. These patterns represent the psychology of supply and demand, showing periods of accumulation, distribution, consolidation, and continuation. Pattern recognition helps identify high-probability trade setups and measured move targets.

## Pattern Categories

### Continuation Patterns
**Purpose**: Signal trend will resume after consolidation
**Trading**: Enter in direction of prior trend
**Success Rate**: Generally 60-70%

### Reversal Patterns
**Purpose**: Signal trend change is likely
**Trading**: Enter opposite to prior trend
**Success Rate**: Generally 50-60% (harder to call)

**Note**: Continuation patterns are more reliable than reversal patterns

## Major Continuation Patterns

### 1. Bull Flag / Bear Flag

**Structure**:
- **Flagpole**: Sharp move in direction of trend
- **Flag**: Tight consolidation sloping against trend
- **Breakout**: Resumption of trend

**Bull Flag**:
```
        ↗️     /
Pole:  ↗️     /  ← Flag (slight downward)
      ↗️    /
    ↗️   /
Breakout: →→→ ↗️ (resumes uptrend)
```

**Characteristics**:
- Flagpole: Sharp 20-50% move in 1-4 weeks
- Flag: 5-20 days consolidation, slight retracement (10-38%)
- Volume: High on pole, dries up in flag
- Breakout: Volume increases, continues trend

**Trading**:
- **Entry**: Breakout from flag on volume
- **Stop**: Below flag low (bull) or above flag high (bear)
- **Target**: Add flagpole height to breakout point

**Example**:
- Pole: $50 → $60 (+$10 move)
- Flag: Consolidates $60 → $58
- Breakout: $60
- Target: $60 + $10 = $70

**Quality Indicators**:
- Flagpole on increasing volume
- Flag on decreasing volume
- Tight consolidation (10-20% retracement)
- Time: 1-4 weeks is ideal (longer = weaker)

### 2. Ascending Triangle (Bullish)

**Structure**:
- Flat resistance at top
- Rising support at bottom
- Higher lows approaching resistance

**Visual**:
```
_______ ← Flat resistance
    /↗️
   /↗️
  /↗️ ← Rising lows
Breakout: →→ ↗️
```

**Psychology**:
- Buyers increasingly aggressive (higher lows)
- Sellers defending specific level (flat top)
- Eventually buyers overwhelm sellers

**Characteristics**:
- Forms over 3-12 weeks
- 3-4 touches of each level
- Volume contracts during formation
- Breakout on high volume

**Trading**:
- **Entry**: Break above resistance on volume (>1.5× avg)
- **Stop**: Below most recent swing low
- **Target**: Add height of pattern to breakout

**Example**:
- Resistance: $100
- Base of triangle: $90
- Height: $10
- Breakout at $100 → Target $110

### 3. Cup and Handle (Bullish)

**Structure**:
- Cup: U-shaped consolidation (3-6 months)
- Handle: Short pullback/consolidation (1-4 weeks)
- Breakout: Above handle resistance

**Visual**:
```
\            _/‾\_ ← Handle
 \          /     \
  \___U___/       Breakout ↗️
   Cup (6 months)
```

**Characteristics**:
- Cup depth: 12-33% retracement
- Cup shape: U-shaped (not V-shaped)
- Handle: Small pullback, flags right side
- Breakout: On volume expansion

**Trading**:
- **Entry**: Breakout from handle on volume
- **Stop**: Below handle low
- **Target**: Add cup depth to breakout

**Quality Indicators**:
- Smooth cup (not jagged)
- Handle in upper half of cup
- Handle < 1/3 of cup depth
- Volume low in handle

**Note**: One of highest success rate patterns when formed correctly

### 4. Wedge (Can Be Continuation or Reversal)

**Rising Wedge** (Usually Bearish):
```
    /↗️/
   /↗️/  ← Converging lines
  /↗️/
 /↗️/
Break ↘️
```

**Falling Wedge** (Usually Bullish):
```
\↘️\
 \↘️\
  \↘️\  ← Converging lines
   \↘️\
Break ↗️
```

**Characteristics**:
- Both trendlines slope same direction
- Lines converge (tightening range)
- Volume declines toward apex
- Breakout against slope direction

**Trading**:
- **Entry**: Break out of wedge on volume
- **Stop**: Opposite side of wedge
- **Target**: Beginning of wedge (full retracement)

## Major Reversal Patterns

### 1. Head and Shoulders (Bearish Reversal)

**Structure**:
- Left Shoulder: Rally and pullback
- Head: Higher rally and pullback (peak)
- Right Shoulder: Lower rally and pullback
- Neckline: Support connecting lows

**Visual**:
```
         Head
          ↗️
   L.Shoulder  R.Shoulder
      ↗️          ↗️
________|__________|______ ← Neckline
        ↘️ Breakdown
```

**Characteristics**:
- Forms after uptrend (topping pattern)
- Right shoulder lower than head
- Neckline break confirms pattern
- Volume decreasing through pattern
- Volume increases on breakdown

**Trading**:
- **Entry**: Break below neckline on volume
- **Stop**: Above right shoulder
- **Target**: Subtract head height from neckline

**Example**:
- Head peak: $120
- Neckline: $100
- Height: $20
- Breakdown at $100 → Target $80

**Inverse Head and Shoulders** (Bullish):
- Same pattern upside down (bottoming pattern)
- Break above neckline = buy signal

### 2. Double Top (Bearish) / Double Bottom (Bullish)

**Double Top**:
```
  ↗️       ↗️
 /  \     /  \ ← Two peaks at similar level
/    \___/    \
              ↘️ Breakdown
```

**Characteristics**:
- Two peaks at approximately same level
- Valley between peaks (must be >10% deep)
- Breakdown below valley confirms
- Volume typically lower on 2nd peak

**Trading**:
- **Entry**: Break below valley on volume
- **Stop**: Above 2nd peak
- **Target**: Subtract pattern height from breakdown level

**Double Bottom** (Bullish):
- Same pattern upside down
- Two lows at similar level
- Rally between them
- Break above rally high = buy signal

### 3. Rounding Top / Bottom

**Rounding Bottom** (Bullish):
```
\             /
 \___U_____/  ← Gradual U-shape
        ↗️ Breakout
```

**Characteristics**:
- Gradual, smooth curve (3-12 months)
- Volume decreases into bottom
- Volume increases on right side
- No sharp V-bottom (gradual accumulation)

**Rounding Top** (Bearish):
- Same pattern inverted
- Gradual distribution over months

## Candlestick Patterns

### Single Candlestick Patterns

**Hammer** (Bullish Reversal):
- Small body, long lower wick (2-3× body)
- Forms at support/bottom
- Buyers rejected lower prices

**Shooting Star** (Bearish Reversal):
- Small body, long upper wick (2-3× body)
- Forms at resistance/top
- Sellers rejected higher prices

**Doji** (Indecision):
- Open ≈ Close (very small body)
- Indecision between buyers and sellers
- At top: potential reversal
- At bottom: potential reversal
- In middle: continuation likely

### Multi-Candlestick Patterns

**Bullish Engulfing** (Reversal):
- Downtrend → Small red candle → Large green candle
- Green candle completely engulfs prior red candle
- Buyers took control

**Bearish Engulfing** (Reversal):
- Uptrend → Small green candle → Large red candle
- Red candle completely engulfs prior green candle
- Sellers took control

**Morning Star** (Bullish Reversal):
- 3 candles: Large red → Small (any color) → Large green
- Forms at bottom
- Signifies reversal from down to up

**Evening Star** (Bearish Reversal):
- 3 candles: Large green → Small (any color) → Large red
- Forms at top
- Signifies reversal from up to down

## Pattern Quality Scoring

### Excellent Pattern (Score 9-10)
- Textbook formation (clear, clean)
- All elements present and properly proportioned
- Volume confirms (expands on breakout)
- Forms in context (continuation in uptrend, etc.)
- Multiple timeframe confirmation
- Occurs at key S/R level

### Good Pattern (Score 7-8)
- Clear formation with minor imperfections
- Most elements present
- Volume generally confirms
- Good context
- Visible on daily chart

### Average Pattern (Score 5-6)
- Recognizable but imperfect
- Some elements missing
- Volume mixed
- Context acceptable

### Poor Pattern (Score 3-4)
- Questionable formation
- Missing key elements
- Volume doesn't confirm
- Wrong context

### Not a Pattern (Score 0-2)
- Forcing pattern that isn't there
- Too ambiguous to trade

## Pattern Failure Rates

**Important**: Not all patterns work

**Success Rates** (approximate):
- Cup and Handle: 70-80% (if well-formed)
- Flags/Pennants: 60-70%
- Triangles: 60-65%
- Head and Shoulders: 55-60%
- Double Tops/Bottoms: 50-55%

**Improve Odds**:
- Trade only high-quality patterns (score 7+)
- Require volume confirmation
- Trade with prevailing trend
- Use proper risk management

## Volume Confirmation

**Critical**: Patterns without volume confirmation have lower success rates

**Bullish Patterns**:
- Volume should contract during formation
- Volume should expand (1.5-2× avg) on breakout
- Rising volume on breakout = confirmation

**Bearish Patterns**:
- Volume should contract during formation
- Volume should expand on breakdown
- Rising volume on breakdown = confirmation

**No Volume Surge** = Questionable breakout (higher failure risk)

## Measured Moves (Price Targets)

**General Formula**: Add pattern height to breakout level

**Flag/Pennant**: Add pole height
**Triangle**: Add triangle height
**Cup and Handle**: Add cup depth
**Head and Shoulders**: Subtract head height from neckline
**Double Top/Bottom**: Subtract/add pattern height

**Usage**:
- Target 1: Measured move (take partial profit)
- Target 2: Extension or next resistance
- Target 3: Trail remainder

## False Breakouts

**Why Patterns Fail**:
- Low volume on breakout (no conviction)
- Fighting major trend (reversal in strong trend)
- Poorly formed pattern
- Market conditions deteriorate
- Stop hunts (brief breakout, then reversal)

**Protection**:
- Wait for volume confirmation
- Use stops just outside pattern
- Don't chase breakouts (enter on retest)
- Trade high-quality patterns only

## Application in APEX-OS

### Pre-Investment
- Identify patterns on weekly and daily charts
- Assess pattern quality (0-10 score)
- Measure potential move (target)
- Check volume characteristics
- Determine entry trigger (breakout level)
- Assign pattern score to overall technical score

### Pattern Requirements for Entry
- Pattern quality score ≥ 7
- Clear breakout level identified
- Volume confirmation on breakout (1.5× average minimum)
- Context appropriate (continuation pattern in uptrend, etc.)

### During Hold Period
- Monitor pattern completion
- Watch for pattern failure (stop triggered)
- Track progress toward measured move

### Exit Triggers
- Pattern fails (breaks opposite direction)
- Measured move reached (take profit)
- Volume doesn't confirm breakout (exit early)

## Best Practices

1. **Quality Over Quantity**: Trade only high-quality, clear patterns
2. **Volume is King**: Patterns without volume are questionable
3. **Context Matters**: Continuation in trends, reversals at extremes
4. **Patience**: Wait for complete formation and confirmed breakout
5. **Measured Moves**: Use for profit targets, but remain flexible
6. **Risk Management**: Always use stops (patterns fail 30-40% of time)

## Common Mistakes

- Forcing patterns that aren't there (seeing what you want)
- Trading low-quality formations
- Ignoring volume (biggest mistake)
- Entering before confirmed breakout (anticipating)
- Not using stops (pattern can fail)
- Forgetting context (reversal pattern in strong trend = low odds)
- Over-relying on patterns (they're tools, not guarantees)

## Integration with APEX-OS

- **technical-analyst** agent applies this principle
- Pattern score (0-10) feeds into overall technical score
- Measured moves set profit targets in position plan
- Pattern quality determines trade confidence level
- Pattern failure triggers exit signal
